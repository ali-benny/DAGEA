{% extends "base.html" %}

{% block html_title %}Tweet Finder | DAGEAâ„¢{% endblock %}

{% block main_content %}
<!-- Title -->
<div class="container p-3">
    <div class="text-center">
        <h1 class="display-3 pb-2">GUI to search tweets</h1>
    </div>
</div>

<!-- Filter and search -->
<div class="container mt-4">
    <form class="row" action="" method="post">
        <div class="col-2"></div>

        <!-- Search bar -->
        <div class="col-3">
            <div class="d-flex">
                <input required type="text" class="form-control me-1" placeholder="Search tweets" name="keyword"
                    id="keyword" value="{{ request.form['keyword'] }}">
                <button class="btn btn-primary bi-search" id="searchBtn" type="submit"></button>
            </div>
        </div>

        <!-- Research by -->
        <div class="col-3">
            <select required name="researchBy" class="form-select" aria-label="Default select example">
                {% for method in researchMethods %}
                {% if method.method == currentResearchMethod %}
                <option selected value="{{ method.method }}">{{ method.text }}</option>
                {% else %}
                <option value="{{ method.method }}">{{ method.text }}</option>
                {% endif %}
                {% endfor %}
            </select>
        </div>

        <!-- Tweets limit -->
        <div class="col-2">
            <input required class="form-control" id="tweetsLimitInput" value="{{ tweetsLimit }}" min="0" max="200"
                type="number" name="tweetsLimit">
            <small class="form-text text-muted">Choose the number of tweets to display</small>
        </div>

        <!-- Data range -->
        <!-- Temporaneamente rimosso perche' con l'introduzione delle classi la cosa diventa piu' complessa, al punto da richeidere una nuova migliorata -->
</form>
</div>
<br><br>

<!-- Cards tweets -->
<div class="container d-flex h-100 pt-5 text-dark">
    <div class="row justify-content-center mb-3">
        {% for text in tweetsText %}
        <div class="col-lg-4">
            <div class="card" style="width: 90%; margin: 2%">
                <div class="card-body">
                    <p class="card-text">{{ text }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
