<!doctype html>
<html lang="en">

<head>
	<title>{% block html_title%}{% endblock %}</title>

	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel='icon' href='../static/img/logo/favicon-transparent.ico' type='image/x-icon' sizes="16x16" />
	<link rel="stylesheet" href="../static/css/location.css">
	<link rel="stylesheet" href="../static/css/epic.css">

	<!-- Bootstrap CSS and JS v5.2.2 -->
	<link rel="stylesheet" href="../static/css/custom_bootstrap.css">
	<script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
		crossorigin="anonymous"></script>
	<!-- Bootstrap icons -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

	<!-- Leaflet -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
		integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
		integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
</head>

<body class="bg-dark text-white h-100">
	<header>
		<div class="navbar navbar-expand-sm navbar-dark text-light mb-3">
			<div class="container">
				<a href="/" class="navbar-brand">
					<img src="../static/img/logo/favicon-transparent.ico" alt="" style="width: 100px;">
				</a>
				<div class="navbar-collapse justify-content-end">
					<ul class="navbar-nav">
						<li class="nav-item mx-1">
							<a href="/" class="nav-link">Home</a>
						</li>
						<li calss="nav-item mx-1">
							<a href="/chess" class="nav-link">Play Chess</a>
						</li>
						<li class="nav-item mx-1">
							<a href="/explain" class="nav-link">How it works </a>
						</li>
						<li class="nav-item mx-1">
							<a href="/credits" class="nav-link">Credits</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</header>

	<main class="container h-100 w-100">
		<script src="../static/js/index.js"></script>

		<!-- Title -->
		<div class="container p-3">
			<div class="text-center">
				<h1 class="display-3 pb-2">Search tweets</h1>
			</div>
		</div>

		<!-- Filter and search -->
		<form class="container align-items-center justify-content-around w-100" action="" method="post">
			<div class="row">

				<!-- Search bar -->
				<div class="col-4 d-flex">
					<input required type="text" class="form-control me-1" placeholder="Search tweets" name="keyword"
						id="keyword" value="{{ request.form['keyword'] }}{{ keyword }}">
					<div class="btn-group" role="group" aria-label="Basic radio toggle button group">
						<input type="radio" class="btn-check" name="btnradio" id="searchBtn" autocomplete="off"
							value="Search">
						<label class="btn btn-outline-primary bi-search" for="searchBtn" title="Search Tweets"></label>

						<input type="radio" class="btn-check" name="btnradio" id="streamBtn" autocomplete="off"
							value="Stream">
						<label class="btn btn-outline-purple bi-play-fill" for="streamBtn"
							title="Stream Tweets"></label>
					</div>
					<button type="submit" class="btn btn-success orange" style="margin: 1px;">Invia</button>
					<!-- <button type="submit"  class="btn btn-success orange" style="margin: 1px;"><a href="/search">Invia</a></button> -->
				</div>

				<!-- Research by -->
				<div class="col d-flex">
					<select required name="researchBy" class="form-select" aria-label="Default select example">
						{% for method in researchMethods %}
						{% if method.method == currentResearchMethod %}
						<option selected value="{{ method.method }}">{{ method.text }}</option>
						{% else %}
						<option value="{{ method.method }}">{{ method.text }}</option>
						{% endif %}
						{% endfor %}
					</select>
				</div>

				<!-- Tweets limit -->
				<div class="col-1 d-flex">
					<input class="form-control" id="tweetsLimitInput" value="{{ tweetsLimit }}" min="10" max="200"
						type="number" name="tweetsLimit" title="Choose the number of tweets to display">
				</div>

				<!-- Select date ranges -->
				<div class="col d-flex">
					<div class="dropdown">
						<button class="btn btn-outline-secondary dropdown-toggle" type="button"
							data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false">
							Date range
						</button>
						<div class="dropdown-menu bg-dark">
							<!-- To date -->
							<div class="dropdown-item">
								<h6 class="dropdown-header" for="start">To date:</h6>
								<div class="input-group mb-3">
									<input type="datetime-local" class="form-control" name="maxDate" id="maxDate"
										value="{{ dates.get('maxDateValue') }}" min="{{ dates.get('minDate') }}"
										max="{{ dates.get('maxDate') }}" aria-label="end_time">
								</div>
								<input type="button" id="reset" class="btn btn-outline-danger"
									onclick="resetDates('maxDate')" value="Default date">
							</div>
							<!-- From date -->
							<div class="dropdown-item">
								<label class="dropdown-header" for="start">From date: </label>
								<div class="input-group mb-3">
									<input type="datetime-local" class="form-control" name="minDate" id="minDate"
										value="{{ dates.get('minDateValue') }}" min="{{ dates.get('minDate') }}"
										max="{{ dates.get('maxDate') }}" aria-label="star_timet">
								</div>
								<input type="button" id="reset" class="btn btn-outline-danger"
									onclick="resetDates('minDate')" value="Default date">
							</div>
						</div>
					</div>
				</div>

				<!-- Location check -->
				<div class="col-2 d-flex justify-content-end align-items-center">
					<div class="form-check form-switch">
						<input class="form-check-input" type="checkbox" id="isLocated" name="isLocated" value="on"
							data-onstyle="danger" />
						<label class="form-check-label" for="flexSwitchCheckDefault">only located</label>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col"></div>
				<!-- See map button -->
				<div class="col-4">
					<a href="/map" class="btn border text-white bg-dark" style="visibility:{{ mapVisibility }}">See
						tweets
						on a map</a>
				</div>
				<div class="col"></div>
			</div>
		</form>
		<br><br>
		{% block main_content %}{% endblock %}
	</main>
</body>

</html>